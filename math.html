<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>How to go from device coordinates back to worldspace in OpenGL (with explanation)</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>How to go from device coordinates back to worldspace in OpenGL (with explanation)</h1>


        <p class="view"><a href="/">back to index</a></p>

      </header>
      <section>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>-</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>So you’re writing a 3D engine or somesuch in OpenGL (modern or legacy), and you’re not a beginner so you know that the worldspace coordinates get transformed using your modelview/projection matrix (which we’ll treat as one for the purpose of this article) into clip space, which gets transformed by the perspective division into normalized device coordinates.</p>
<p>If you don’t, go read <a href="http://unspecified.wordpress.com/2012/06/21/calculating-the-gluperspective-matrix-and-other-opengl-matrix-maths/">http://unspecified.wordpress.com/2012/06/21/calculating-the-gluperspective-matrix-and-other-opengl-matrix-maths/</a>, it’s really good.</p>
<p>So you end up with <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAIBAMAAAAy1HOFAAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMARFSZImYQMrvddqvNiR1MEkMAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAA1SURBVAgdY2AQMhE1Y2BXqAiYyMDFUJcQwMDAsBqIGRgOATEjyzOGBQyRrNNYHRh8VWTVGQC/jQgwYH9M7AAAAABJRU5ErkJggg==" alt="x" title="x" class="math inline" />, <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAMBAMAAABCcoqQAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMlSZEO+7dkSJq90iZs0qwsm8AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAATElEQVQIHWNgVGZgMmBwYhVgK2BokGdgFWBgmMUgz8DAsIOhjIGB5QtDOpD9gecjkLx58wOQZGA3YGDga2A9wMDAxWAL5PNeV2BgAACoTwyC43HGOwAAAABJRU5ErkJggg==" alt="y" title="y" class="math inline" /> and <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAIBAMAAADZ48iGAAAAKlBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADmU0mKAAAADXRSTlMAme9UMmZ2RLsiqxDdH58NnAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAADJJREFUCB1jYGBUZnFgYAirSGNgYJjAEAAkGSaDCHYHEGnJwMbAwJwV3snAsJn7TAEDAIm7Bt3a7eAaAAAAAElFTkSuQmCC" alt="z" title="z" class="math inline" /> (depth buffer) values; that is, device coordinates. But for some occasions, like shadow mapping or deferred lighting, it’s useful to do this transformation backwards - going from device coordinates back to worldspace. In this article, I’m going to walk you through the math of it.</p>
<p>Let’s start with what we have. We start out with our world space position, <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAANBAMAAAAkr0GcAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMlSZEO8i3c1EdomrZrtpo7NTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA40lEQVQYGWNgQAPcxUABuW9ookBuExBzBmCKfwEKcR3AEOcsAArxXcAQ5zYACvEnMDAqMzAruCYwaN0W4NyZfZOB4wID1yJVBgYndgFWAY4JzAvYApjSN+wBKX3LcIaBYUI+Qz4DV8INBoaPKlMdpjFMZeB9wHAKaNYehnsMvAyxDCwfHTaDuawXGAKBjEqgLC/bNwbeD2Cn9zLkJzB+AIp/AcokAlkcC1hATv+WKM/A9WACA0MYSxDDBYZChjsMTA0MDCwfLrAyeGwAun/yXZlbDgzZukD3LQCq3zuB00jR1gEA1jA6ROW8fx0AAAAASUVORK5CYII=" alt="world" title="world" class="math inline" />. <strong>Note that <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAAQBAMAAACvnpHFAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMlSZEO8i3c1EdomrZrtpo7NTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABDElEQVQYGXWPPUvDUBSG36RJmw9uzQ8QP7AuQkGKq3ARBMfUwU1IJwsZojh1E3fhgtQ5+AuCTkIEZ3G4o/ZD8geEFEpmT0ymcj3L5X2e+8I5wMq41wQ2ihVax1t6bV/tloSdN6WzLwm3pdK5+4TXgj+n7aCxdRxgb+rZL+EXLAnncbeqHbU807NEI276+kWSlpUffFRORIjgBJ/AojPmDxiDZXivHFJ8g+EcxoI/E0phSvRrN6JfrFmA5ShPu0MUaHntlhhhQMmKjfK0YrAJJxMzHAyBM+MUEleYQb8BjFyaOEnmLe63gfv5+oQj7NLuMfVehd3bPuRDLWOUlDNhia4UBJ9c2fnPhd2e+AXGukJo78OhbwAAAABJRU5ErkJggg==" alt="world_w" title="world_w" class="math inline" /> is assumed to be 1</strong> - for the rationale, see the article linked above.</p>
<p>We transform it to clip space by multiplying it with our projection/modelview matrix.</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAAARBAMAAABOXnGKAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACfElEQVQ4Ea2SP2gUURDGv929vexe9nIbD2KCzVMbjaKLYmEhOULE9hKEYGxODWcslBiIIArZNGoRuQ02gmAOQTAomEQQC4v1T0CUQNTGgEVMYevBNRe08HtvF3Nczu4GduftfL99897MANJGFpRrfJnPA4amXjfG//NtPqVg//Iiuc2FU25CXnYB7UYs3Il8UzCSrkq3Eq2R8WGE8breXSwAM3/iyM/INwUjqSbdaLTGx9g3OOM9a9KjSCqbDeq2z+gGG3H87DZdBXRzHfatciTaq82hrajJEwBVPtruLCZg74JWPHJgC5ArXS9D6yCZPHfPGZ4Uy++GQoJ48+LtK6nPLmDR+grt/BlIqU0AxU6Zuh8nufd0OpguiXZG2wek5alAdypw0y6wgVPoEMg+NnMEbfeheEbZcuexhpt4iRNKyniEEjkeYRzdzirCPoQrMBmos2mjZgR9PvR15s142sw3xyOYxJwviDlGxajggj6OzKyU2PFDSBSADFW5FUs6igTvWWfd2NTQC6QFvnNGLFUwWfu4t2aO2QTV0n0pnQa+IB0APAZkIdaAH5D3rDOBzx8wQMazK/IPjrECoQYRSIU8lejzcFhJEzCqmCPCx8ocDbRyiJqaqbp6Cky6TE0muR5OWG7JZ0vLoWPUUOCvHOtUaATc4RqkVD3O1Fcc5vKwt6TDzAu7huuS/Ge2YGuYGmnczov5JHZSItirP9E9SaW9u66OVKDnpGRVBFatSR0wBnf45kHYg35yqUuRklY28giXMPw7gLPYs+R3ZVFkmOCx7HKPApyl/f1j3GEPZ4iBoRCfOh/sU1L84rC03DheLTfZsRabM5Vv0Y5/AR3dmmXsS7voAAAAAElFTkSuQmCC" alt="clip = Matrix\text{ }world" title="clip = Matrix\text{ }world" class="math display" /></p>
<p>Then move on to device coordinates by dividing with <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAIBAMAAADQCGj8AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMlSZEO8i3c1EdomrZrtpo7NTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAQklEQVQIHWNgVGZgVnBNYHBiF2AV4JjAMCGfIZ+BK4GBYQ/DPQZeBgaGSoZTYPoLkJUI5IexBDFcANKT78rccmAAAGC1DLIvAY6OAAAAAElFTkSuQmCC" alt="w" title="w" class="math inline" />.</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKkAAAAUBAMAAAAErwC3AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMrsiRO92q2ZUEM2Jmd0gkiEXAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACaklEQVQ4EaWTT2jTYBjGnzZpm6RZU4YIgtIcd4y4k39YL8KcIh2evHV0lyFCTs6DQkCZ25hSdRttwfGBF1HQgh4UL73ZgkrBy/Q09SYIhV6GePB902b5s05bfCHJ8zy/93vbfEmA/632AQPGuweAUKz/DFnPSA1Xfdw3XC54LcBFX0bVm4FUt9y+dDm6NGn7AyZ9GVW/gAE03mszRBTGneiAQV7eGZTicC/df49G7yYGLvJDve3rgPrU0x8CEcvkwgZQ2cSRtnaJTqSrFvtQUZZ2mG6WlsPTTUBdeYjXETiBRaSK8kx5Fq80OqWcVIN8Hhhb5GrQeM4Mi6hW28U2BXslO8B13EA3DBUT13AP+mSsg5IsdXAFqiAf2hXOzoKoTO/Lu72RJFICyTpqciEMEw5m8a0yD92GA9q8XeplHyzOaBhRel9uBkkKMBwidhhOWbGOxp9BJk9TE1mJXiDXB9ZyRjtHFPEyLgcIqsCUAGjTQzCHpDnToUZDxCxsybQReMo+sK+cie5xotQl78iPzjl3MKe9nQZsIEd/wziR7UPFHntcRwLPGs5XqFlDKMB7Bd+hWOzdwf0TZSc7DtOcSGefpOabGfEyJr5Ao6kZC7deKB50fiRgQv58f1ucrq5CbTnA0RpY8xEs9s0806srJYi0hVMo0K9DyQNSqyL02x6U6uO0kyPWBPc/h1iL2VjV0P9e+0MYKsU1lPt+6As/14UHqtXSi3qtgjOhhQz1clMVofTfhp8bpi+s49hW9tBGG3PBJS6UWnfXg+Ew+vxvryvjCtOzfPVhMB1BS+aS222NsGaI1uXi35r+AJEWsuzA1FJKAAAAAElFTkSuQmCC" alt="device = clip_{xyz} / clip_w" title="device = clip_{xyz} / clip_w" class="math display" /></p>
<p>So the problem we face is: given <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAAARBAMAAABOXnGKAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACfElEQVQ4Ea2SP2gUURDGv929vexe9nIbD2KCzVMbjaKLYmEhOULE9hKEYGxODWcslBiIIArZNGoRuQ02gmAOQTAomEQQC4v1T0CUQNTGgEVMYevBNRe08HtvF3Nczu4GduftfL99897MANJGFpRrfJnPA4amXjfG//NtPqVg//Iiuc2FU25CXnYB7UYs3Il8UzCSrkq3Eq2R8WGE8breXSwAM3/iyM/INwUjqSbdaLTGx9g3OOM9a9KjSCqbDeq2z+gGG3H87DZdBXRzHfatciTaq82hrajJEwBVPtruLCZg74JWPHJgC5ArXS9D6yCZPHfPGZ4Uy++GQoJ48+LtK6nPLmDR+grt/BlIqU0AxU6Zuh8nufd0OpguiXZG2wek5alAdypw0y6wgVPoEMg+NnMEbfeheEbZcuexhpt4iRNKyniEEjkeYRzdzirCPoQrMBmos2mjZgR9PvR15s142sw3xyOYxJwviDlGxajggj6OzKyU2PFDSBSADFW5FUs6igTvWWfd2NTQC6QFvnNGLFUwWfu4t2aO2QTV0n0pnQa+IB0APAZkIdaAH5D3rDOBzx8wQMazK/IPjrECoQYRSIU8lejzcFhJEzCqmCPCx8ocDbRyiJqaqbp6Cky6TE0muR5OWG7JZ0vLoWPUUOCvHOtUaATc4RqkVD3O1Fcc5vKwt6TDzAu7huuS/Ge2YGuYGmnczov5JHZSItirP9E9SaW9u66OVKDnpGRVBFatSR0wBnf45kHYg35yqUuRklY28giXMPw7gLPYs+R3ZVFkmOCx7HKPApyl/f1j3GEPZ4iBoRCfOh/sU1L84rC03DheLTfZsRabM5Vv0Y5/AR3dmmXsS7voAAAAAElFTkSuQmCC" alt="clip = Matrix\text{ }world" title="clip = Matrix\text{ }world" class="math inline" />, <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKkAAAAUBAMAAAAErwC3AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMrsiRO92q2ZUEM2Jmd0gkiEXAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACaklEQVQ4EaWTT2jTYBjGnzZpm6RZU4YIgtIcd4y4k39YL8KcIh2evHV0lyFCTs6DQkCZ25hSdRttwfGBF1HQgh4UL73ZgkrBy/Q09SYIhV6GePB902b5s05bfCHJ8zy/93vbfEmA/632AQPGuweAUKz/DFnPSA1Xfdw3XC54LcBFX0bVm4FUt9y+dDm6NGn7AyZ9GVW/gAE03mszRBTGneiAQV7eGZTicC/df49G7yYGLvJDve3rgPrU0x8CEcvkwgZQ2cSRtnaJTqSrFvtQUZZ2mG6WlsPTTUBdeYjXETiBRaSK8kx5Fq80OqWcVIN8Hhhb5GrQeM4Mi6hW28U2BXslO8B13EA3DBUT13AP+mSsg5IsdXAFqiAf2hXOzoKoTO/Lu72RJFICyTpqciEMEw5m8a0yD92GA9q8XeplHyzOaBhRel9uBkkKMBwidhhOWbGOxp9BJk9TE1mJXiDXB9ZyRjtHFPEyLgcIqsCUAGjTQzCHpDnToUZDxCxsybQReMo+sK+cie5xotQl78iPzjl3MKe9nQZsIEd/wziR7UPFHntcRwLPGs5XqFlDKMB7Bd+hWOzdwf0TZSc7DtOcSGefpOabGfEyJr5Ao6kZC7deKB50fiRgQv58f1ucrq5CbTnA0RpY8xEs9s0806srJYi0hVMo0K9DyQNSqyL02x6U6uO0kyPWBPc/h1iL2VjV0P9e+0MYKsU1lPt+6As/14UHqtXSi3qtgjOhhQz1clMVofTfhp8bpi+s49hW9tBGG3PBJS6UWnfXg+Ew+vxvryvjCtOzfPVhMB1BS+aS222NsGaI1uXi35r+AJEWsuzA1FJKAAAAAElFTkSuQmCC" alt="device = clip_{xyz} / clip_w" title="device = clip_{xyz} / clip_w" class="math inline" />, <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAQBAMAAABgsKUGAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMlSZEO8i3c1EdomrZrtpo7NTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABP0lEQVQoFX2QO0vDYBSG36ZJmwup+QHiBesiFKQ4KgRBcIwObkI6WcgQxclN3YWA1Dn6C2qdhArO2iGj1lbyB4QEStDN81UIX5vYM72Xh8PhAFOjnVKwkEyl/9lLKhQr2yoX2QwjytTnTFG6jTMZlGPKKkG2QA6srRM3Z+fDhRUUl3ZsrH0YyqPzDjmAereaw7LN22VDMmSv6Jcs4ajdZUu/0EvhzR7N69gS7LlwodpvQFxtmTdoQQ/xksKcYDd38QkdhxBj82FspQB7HJNKBp/RHr2UQI/AXnwF1y5EKcEJBo8Ib1At+yJ7cdJYhBp6A2w0GTh5Mw7EfQQ4wQDCOSBGgYTd9rBsWhUGc/ND+no43zfh1OhlPtknT6kvb5nNQqhzIG3pft9PBJzp622Bs7NlRwuqswmudWp1j7N/8hfxyVfi32VS/AAAAABJRU5ErkJggg==" alt="world_w = 1" title="world_w = 1" class="math inline" />,</p>
<p>and given <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAANBAMAAADyCpv5AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMrsiRO92q2ZUEM2Jmd0gkiEXAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA3UlEQVQYGW2PvWoCURBGz+rdXxZX7AIBLS1vsWVAawtRfIFAbEIaq6S9tUWIRcKaQrZOWh/AVrCw1DLJCyzYSKrMTbMbyMB8nDMDAwPQOkn8W2pUjoclCnmzUtMShWrmj1Yk0RWpoHf7DNkLF/toIiG81NahywP+tRo8jVlHEr7xN+J9gg73PBKnTsGNqhfcEebiGtcw5jObEs8wxHvOcsc6Pe0UkX210ZeN26x/w6/TxusMCtkkuaNZKTnKm3Vc3jfmg7CZ5AHsAr4ItHXUcXHIr5Zzwq2By1cs2/4B25I3Ilb23EMAAAAASUVORK5CYII=" alt="device" title="device" class="math inline" /> as an input and <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAANBAMAAAAH9BBJAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAid0yzZlEdu9UECKrZrsQi3lRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABLElEQVQYGW2QPUjDUBSFv5iSvza1CAoFleLg4JRFEEFbQRAnBTdd0kFQRFpcRBApODkIgaqgLm/tliq4tov7o4ODg5ujIIiLXbwxhS4+ePf8XB7n8ICxLyDzHcr879gX4l5tpitPpWiVUgR7DbxamMp8PcXsQMPTM7hlldqjQYrDqadh8WigF4b+gOkeRO8ijptxdXXKmmi/YF7D/s7htri6hovUy+tchQ/ch8IkLScwo2U9K62ijnrM/sAbuQJ97vbUAWEHm7LS0kqNBpFfgkuc0GqgxpPQZJwmxMe5Ubku2T5ljC6sJ+653D/ikyniaMxPzqyMbnmSg1sKLQmUT1hCGnViaHgr/khQdyuyNgq658/5McaMtgNjYwt2b+df3ZPYlieYRdW+rzb5BUT2RfYIPkhEAAAAAElFTkSuQmCC" alt="Matrix" title="Matrix" class="math inline" /> as a constant, calculate <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAANBAMAAAAkr0GcAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMlSZEO8i3c1EdomrZrtpo7NTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA40lEQVQYGWNgQAPcxUABuW9ookBuExBzBmCKfwEKcR3AEOcsAArxXcAQ5zYACvEnMDAqMzAruCYwaN0W4NyZfZOB4wID1yJVBgYndgFWAY4JzAvYApjSN+wBKX3LcIaBYUI+Qz4DV8INBoaPKlMdpjFMZeB9wHAKaNYehnsMvAyxDCwfHTaDuawXGAKBjEqgLC/bNwbeD2Cn9zLkJzB+AIp/AcokAlkcC1hATv+WKM/A9WACA0MYSxDDBYZChjsMTA0MDCwfLrAyeGwAun/yXZlbDgzZukD3LQCq3zuB00jR1gEA1jA6ROW8fx0AAAAASUVORK5CYII=" alt="world" title="world" class="math inline" />.</p>
<p>Let’s walk through it. Invert the first step:</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUsAAAAUBAMAAAD2NgI7AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAid0yzZlEdu9UECKrZrsQi3lRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEBUlEQVRIDdVUXWgcVRT+ZmeZ2ZnJZHdr/VloJVrsgyJOHwRT0WxALT6EBgSl1sCkKESrdNVKrFEJBIQohcGklt2gzINU40snjQTxZbegbxWGiIKVal7Ep2Ck1IcsBb97ZzY7q9NOIaD0PNxz557vfOe7d869QLaZn2RjshCLa1mIbceN+W1ToF7dPkcWw5dZgOy4Vc3GXB+x4zLj+SvutVFdmco96ahMjo5M5QGHDAefTqf516qsp/4RMKDPcpgfjSCmH3ltIPJy7MrEk8CRRKQzTeVIAjsy8aYHGI/HeV/EPonsUEae9YAJMegHAPOYK6ZAfy3yliu9Xi6Xa0jI3ARWIkTPmMoRA18tl2/HlszjLHDmrzj599inUUYh1gPeFsPKt9zfkC+mQNGJfM/YldlzyAlMJkdHpvXyKDAnizNdtNt1Laq3LjDhncD+12L0Q2lZ57YWFRZJs0wOayBKs5U1qJ/FH+p0tHjtMarXFoBwFfB+42RyLhh/bLd229KPUE8BLx5+5VlJoN3xs/Qf14N8iMFRnJ669A+5aRwEaqdWfvBl7vjJQHrbHoDRz2z9xMPazuFw/OhuV1B2kJweMj+A8c4tECHWw2R9WqSGx2Bglm0Z9lWxDuNcaRcWC47qPRruldTx0Bf2lYqB6c2YjasY4+JzF2jnZTSFg0AMqus5N06PnK1twCt4YKFvWBELdymtBNL09mAGT+AZfCVDxUDIajHX9Jr+ssVu+QV9JbTRmPCPwm1Cx5DPvXTtOAx/Apq1oWnT2NVd5yyNg0DU1E27B4hFa9Nymj7sNZxHMTDOvK8FCSSnTJuyqygOihDvOGXVyGH4Rcfjr8BJFFwK8G8VxGKQF0x8RHaVjurYLnoLvHYJS+UQfUVkrzVw2QC7rBDiPT40pmy+BFJpcQMho2f3i1XWoyyHHDYKH/k8V6uNISiklU/VDCNyslVFHDhGWMBBvyeaJGGpHII97yVQYhpi9iVcAJqBuiFESEACmXN5dmEzwK8yNBLJYqKNfEVsjmnvavlw0RRyjAFXo66aYI6NcfjtZXyooejLh6Lbm6kcBLpNX+/kRz7EsMcD4onoa+6I6Z31uZ5AFv2cazlDwAGIUHtZyiLmEfDmUD6mzWE759SMKheVUrhq32tztWv3wf56I0TZZtPmne46Z6kcZd7qVT96JDpoNeTN4X9DAZ+Wwj065kUkgSwEn3s2co7dEiGT9YQsCro71B3l4FPAC/UHLxonAr3GRLXiLy2Mz3XYpV+qXwRfj30NvPHTVE8knWNfw6qsVHr3s+N+vI6dVxxoh+bG/NMLmBRECaQ29v13b8GqXOJDxAjrCVk91W74Y/2Gkf8rkD/tJjBxmW4Ce/7P/1zk3yxATV8xHc/xAAAAAElFTkSuQmCC" alt="Matrix^{-1}\text{ }clip = Matrix^{-1}\text{ }Matrix\text{ }world" title="Matrix^{-1}\text{ }clip = Matrix^{-1}\text{ }Matrix\text{ }world" class="math display" /> <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAAAUBAMAAADSCtrSAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAid0yzZlEdu9UECKrZrsQi3lRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACuElEQVQ4EbVUT0gUURj/rTvO7Mzu7OwKRYKGFHmoy3QIKso1CKJDJHTqjzBGghHhEkWIEYIniWBIyzSMOXTIU7MaHuqwdoguHl4SRpbhpaOwIV1ahH5vVndnwXQR/MF+7/e+7/d98973PRbYHsbL7TU7VegjO82sIe9tDZrNJQ2r9Ct/nM2j0lupHTn0f1Ul0tBB3lak0YZoRuSWMLxggdpSWgNbqY3zwPVQZHOquPSrAzTaOZbsdciIZLa0xp1g1dLpdDZ0bvwFZkqKLazlMajN0sx8BPSM3BKWXVqrbOXcVdep0oQ3wc2Sgi6xHzh5Zz12PKzZ4FMbBJGOMt2C7JExy6cR84D7i+T+sN91tlndm1tA9Clw8+rtK1IEdd/3YJ0Y8xWBEx0Y7V+q+gbV9e5rH6Of7SD7AjvS91zmiF7o4DyTItGOFehTqSZMxuyo2yZag5rrJiESKcs33EFjfA2ddF6bIz6QTNbZMVtx6rPxgSCbL2QFcwwYbt6bjnNGP5FIoYjxHu8WnDw0ZDzZsjLuQvd6oMYLKp9AU9lNQjX1/hdgVWYzbC7jEwO6Z9mu2QI8Rsyh2wu6Jc0D/kJYI2dJtpxPgPMPoYkHM1nAWJXZkVnEBAYZNxF75iVmES8iI93yCSOIBERuAsirgZ2M2Ui6sochtPKUJguYBZnNoeT9aIFxE0qj/A43D1VFTBqyht7iqCyWDeVLsVecxhMVlhe8xXK/+epbMU2BkpXZ1ns7A23ZAU6DI8z7wIBxxqyzs3o7C0ZSYt48bNJbwRGY7woCaZODUOyKn+yRMQSBg/gBmf2GrcCrlEDkgNDsyMVLQPfYsUW9z9eyFEcbvdyLruGqArmxRTQ7ODqOe9/6qyLoXjr11UNuQkBmRxagXh7u9Ko1Ne5WatTtRCb/4XYJcqq7hRu/a6v8D1cUukiuGXIzAAAAAElFTkSuQmCC" alt="Matrix^{-1}\text{ }clip = world" title="Matrix^{-1}\text{ }clip = world" class="math display" /></p>
<p>Now let’s see what we can do with the second equation.</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKkAAAAUBAMAAAAErwC3AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMrsiRO92q2ZUEM2Jmd0gkiEXAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACaklEQVQ4EaWTT2jTYBjGnzZpm6RZU4YIgtIcd4y4k39YL8KcIh2evHV0lyFCTs6DQkCZ25hSdRttwfGBF1HQgh4UL73ZgkrBy/Q09SYIhV6GePB902b5s05bfCHJ8zy/93vbfEmA/632AQPGuweAUKz/DFnPSA1Xfdw3XC54LcBFX0bVm4FUt9y+dDm6NGn7AyZ9GVW/gAE03mszRBTGneiAQV7eGZTicC/df49G7yYGLvJDve3rgPrU0x8CEcvkwgZQ2cSRtnaJTqSrFvtQUZZ2mG6WlsPTTUBdeYjXETiBRaSK8kx5Fq80OqWcVIN8Hhhb5GrQeM4Mi6hW28U2BXslO8B13EA3DBUT13AP+mSsg5IsdXAFqiAf2hXOzoKoTO/Lu72RJFICyTpqciEMEw5m8a0yD92GA9q8XeplHyzOaBhRel9uBkkKMBwidhhOWbGOxp9BJk9TE1mJXiDXB9ZyRjtHFPEyLgcIqsCUAGjTQzCHpDnToUZDxCxsybQReMo+sK+cie5xotQl78iPzjl3MKe9nQZsIEd/wziR7UPFHntcRwLPGs5XqFlDKMB7Bd+hWOzdwf0TZSc7DtOcSGefpOabGfEyJr5Ao6kZC7deKB50fiRgQv58f1ucrq5CbTnA0RpY8xEs9s0806srJYi0hVMo0K9DyQNSqyL02x6U6uO0kyPWBPc/h1iL2VjV0P9e+0MYKsU1lPt+6As/14UHqtXSi3qtgjOhhQz1clMVofTfhp8bpi+s49hW9tBGG3PBJS6UWnfXg+Ew+vxvryvjCtOzfPVhMB1BS+aS222NsGaI1uXi35r+AJEWsuzA1FJKAAAAAElFTkSuQmCC" alt="device = clip_{xyz} / clip_w" title="device = clip_{xyz} / clip_w" class="math display" /></p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKcAAAATBAMAAAAHYwC8AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACWUlEQVQ4Ea1TS2sTURT+Mskkmenk0YgltiK3D4OgyKBIN0KDWDduMj42dhNpKYgiorgQBG/cCIJkRAShi+QHuIjFhcupIIJaiO6Cm7Z/wGIQsvTc23maKUToXdxzvtdJ5t4ZQKwbHVkim/bLjOB9QFx0z5opwmj/m9oMiGHR1yj6xQeRpsCRdCIMgZWAGBZ9jaLnfRBpYn9rJ2LZD8RGpXkpLtKPI4e42CgS04dwH9oUEqtnTgaZ1fEuSXXiX5i0SRvhwEDdXvRlBxPLM9GrvoBF9NHI2Y0mG2NeKM9SVVzCN+IzDm0QNsKkv79Ia1EYZTRb7GXLv7HuJUVN30PZ6MJZgLMJtepJp5GqK21cdVpImyQKm8CeLupe1EjuGjTgWlgpMMhZdDYrSPkP8QM5W9+uOGRWgCUIm8QIlhtVO0hXcTnggQUOZBjQA7aRK7pSso8WmuLtfyuG9qRNYtcgihuls8kX8T0kUBbZwlk70XYwoNd4Dh/mSdZ2cddoCt8Ar0CisEkcOlM3OmmgwI22MbXB5nALzx4z6CZmmwrUGtMGeKTovJsXs7rZh4pu4wgNZUIUNomF6C43el1Bi2fsp6k7V3T+AG/G6EuySlw9Bc3i6fUJE/PaFj0u8HV87YSQcLhE/9viopfYm0jVjb4u4/b0MniG0ugCsyEL8oxQRaklwuRo/Y6wPQc/rlWhcB4KFcS9WCorh7gRW/Hx3TyWMC21DqvBQik6d+Bc6Z0T4kZr6VqBj5+OYm3S1jZ+hkLGk1oI/Vf7+Y9n173m4Gpyq3Jww/xJM3XZ/gURtIy1nIGyKwAAAABJRU5ErkJggg==" alt="clip_w\text{ }device = clip_{xyz}" title="clip_w\text{ }device = clip_{xyz}" class="math display" /></p>
<p>Let’s use this syntax to indicate a 4-vector formed by combining a 3-vector and a fourth number:</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAAUBAMAAABMsN1yAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAADBUlEQVRIDa2Uz2sTQRTHv9nNJrvNptmmUEJbZdpaKbSHRSsqiA1ivXhJinrQS0pFET209qCC4FRBwUsjKAj+aMBLxUssHnrwkBSKIBTizeIl6j8QWgo5OpvdbWYmm6DgXOa99/m+78zuzC7wX8bjf3aJ+B2Xi34kz9oHuRKYpxvVjmIJ6v6SUQtmIdAUC20Jp4+U3GQB+MqVxVCCSY8mKNSSqPSzelviK9gc9eI6cIori6EE/Z72m233OkRb7xk6imWoWa7HFdGKyzT/WLhaa/jbLXUUy9BMA6GhXtyGMYDQtSPjom2yx46SQCLqUGF5Q4xnRfTNDbdsOAiypjOYxi6W4vmlZRIjQOysMzLMLUzCmYTdJNKC+OQIp51qwRfr1rae2sGaJHWdJFhDZB4ps4LSFEpb0NJ803WE6FYg4VUsVucBV2yqNZO5XZAEgfA7EgSNJdmRX0VYeFk7zIG5BBDJ2mBre2J2qpE0zkuCQLiKKco+EQJsAz8Rt7gmlX0U7CYEEE7UCPUCfHE8j24L30RFMKxgBdATR/OhQgn1xo9h/7yNGkB3T/qk/DmppCP5J/eJko49Yk/KnXcFnhj9JhLULJgDZXIIN/Q7G84uJOj1V9BlY2RZgZYhRh33HOX+eAflRI14RCfnNslq1H4Zo2Q1juq+ygnuAq4YFxWs0Gj+YfjWTBddNOg6JqkM3X61CjWbpNoEjCyNrPXZguOxnjHMlDyiY5HdqTgwwqa3IIJyFnDFeJHCzaE50KiN4+zTU2y8YVIRuv0Kb9HNJ4J1g+gFXck8h0KpkhuFJQgm+eyXkzwFHTXSGNMhSh3o9ndTR+eNhPjUfpnNDon0VHs16xKyS0SzZkKUw4Dgs8vQ7MGQndVyWiopre1At1/YL7t1bYZDzIlsyfj43ij/YMc0Pigq1WIzdy4WNjYH8ao///pAEaEmcm+d17/O1c0HGS7jQ44U+DoXl5vxlz0/7moEwtpNqOR92d/Np5VcG6HaWlerh1uLzUpARxMGREpHN7lhOCdXpPwPstDWLa3fP6gAAAAASUVORK5CYII=" alt="clip = clip_{xyzw} = (clip_{xyz}, clip_w)" title="clip = clip_{xyzw} = (clip_{xyz}, clip_w)" class="math display" /></p>
<p>substitute <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAATBAMAAADL1vgSAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABC0lEQVQYGW2Pu0vDUBSHv9yal01MbEEElysFFzsE3W0RdE4WB10cxLnoJAjeTI7N4OBmRt2qs0M6uBQEV3HRv8Glo0khNJac4Tx+3+E8oLDj0SzUONPHSWt08BSNrJZMatVCPKkl2mabC+wNtPOd7X8d+xzwS+wm8VA2ZQUZA9adD7Ie2Tt6v0K8vK0Q8lVnLFX/6ikwc/oJP7g+c3sAy9tNtDRjyoTxa0v0jeT2WrIc0BkK9FDaU64sefgmH83gvpn/HrWU3sWOlPGyFlhc0hi40JlPhZV8G1ZqifAOoVQFeQEYq99t3T8iimWF5LfgdKPMfn6yx18V4NyEZZWWyULcE6cLSlmKrVn2B3GHMar9ePVPAAAAAElFTkSuQmCC" alt="clip_{xyz}" title="clip_{xyz}" class="math inline" /></p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAATBAMAAAAqkS8GAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACv0lEQVQ4EaWUS2gTURSG/3kkmSQzySRiiNXFVFGKFRm04sJCB1E3blIfG90EWupCkSC4cOUUNyJIRkRciCbgpoJI6Mrl7BS1EF3ZXevKnaFByNIzj5t55FoQD8y9557v/8+dzJ0JsEsozV3gP6As017rsSwxy8GKR/O/zIQ0tUhaFNY+p0PtpqS0vBWUiH6agBtRZRIiZamG4rINyY2MLGsFCdF5VhrPy+OMA5Gy5EIx546ICAYNFFz6I2B/GVOWjB7ornPlpfAIuHTItbBiyqJadNfTe3AH+f0QVk7MMp0/azQG9EkPtaWD7DSpvFLpE2qS67FJENWKiWotcPMsfeAszmOIVc1ZbRtFAyie86JBngJdPlX0TaW+g/WgD40lQ7ZwAV/Ilfuob0I25IbcVF1fwLMMkG2hrvbhLsDdQMbyleFwGiFVpYFKmitjeBxyU+zisttBdl4a4AYE+ygypicIGqYs31E24LenJ7oMmR5BFM/BaKaHrIWLY/QNmlPYPuLS1iII7hB5Vw0+g7Bh0rKGBRvIGcAmsA1NJ8M4HoFRzUFJx1dGpCE6aHt3/5b20RxpBCjsxQgbJi19MkApn3SErouR/wZH50PvQUinVPoi1K5oFR+0qHt+gNtq29t1hKeYUmmNh3T5wbX0UTBxqE0/vmHkR7gXaoMpZzN6VUTHzjnGmoYtj/WVu2LBwT7axwDB1xDNNxCcOZvenqBhwiJtQVqs2pljyC/a2fWa6TUZR1Zn9FkdN6eXILVeUV+Kz5UXM54Re+kfheCpyox/vSQaNkxYRN/lOSlKhj9Fg2RFObzvX2wehh6rTaYJGllKdkxaTv4aIj9j1DvmjH5JsGO1yTSxT2SZiyvpAFNxJlp7R02PZPZAVOJkQrwWs7yP1dX7jdjKT9Xo9j78TkPeOrFPZBEdnjhWM2P5f6QS8AdiQLAZ4RSDowAAAABJRU5ErkJggg==" alt="clip = (clip_w\text{ }device, clip_w)" title="clip = (clip_w\text{ }device, clip_w)" class="math display" /></p>
<p>insert into our earlier equation</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAAAUBAMAAADSCtrSAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAid0yzZlEdu9UECKrZrsQi3lRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACuElEQVQ4EbVUT0gUURj/rTvO7Mzu7OwKRYKGFHmoy3QIKso1CKJDJHTqjzBGghHhEkWIEYIniWBIyzSMOXTIU7MaHuqwdoguHl4SRpbhpaOwIV1ahH5vVndnwXQR/MF+7/e+7/d98973PRbYHsbL7TU7VegjO82sIe9tDZrNJQ2r9Ct/nM2j0lupHTn0f1Ul0tBB3lak0YZoRuSWMLxggdpSWgNbqY3zwPVQZHOquPSrAzTaOZbsdciIZLa0xp1g1dLpdDZ0bvwFZkqKLazlMajN0sx8BPSM3BKWXVqrbOXcVdep0oQ3wc2Sgi6xHzh5Zz12PKzZ4FMbBJGOMt2C7JExy6cR84D7i+T+sN91tlndm1tA9Clw8+rtK1IEdd/3YJ0Y8xWBEx0Y7V+q+gbV9e5rH6Of7SD7AjvS91zmiF7o4DyTItGOFehTqSZMxuyo2yZag5rrJiESKcs33EFjfA2ddF6bIz6QTNbZMVtx6rPxgSCbL2QFcwwYbt6bjnNGP5FIoYjxHu8WnDw0ZDzZsjLuQvd6oMYLKp9AU9lNQjX1/hdgVWYzbC7jEwO6Z9mu2QI8Rsyh2wu6Jc0D/kJYI2dJtpxPgPMPoYkHM1nAWJXZkVnEBAYZNxF75iVmES8iI93yCSOIBERuAsirgZ2M2Ui6sochtPKUJguYBZnNoeT9aIFxE0qj/A43D1VFTBqyht7iqCyWDeVLsVecxhMVlhe8xXK/+epbMU2BkpXZ1ns7A23ZAU6DI8z7wIBxxqyzs3o7C0ZSYt48bNJbwRGY7woCaZODUOyKn+yRMQSBg/gBmf2GrcCrlEDkgNDsyMVLQPfYsUW9z9eyFEcbvdyLruGqArmxRTQ7ODqOe9/6qyLoXjr11UNuQkBmRxagXh7u9Ko1Ne5WatTtRCb/4XYJcqq7hRu/a6v8D1cUukiuGXIzAAAAAElFTkSuQmCC" alt="Matrix^{-1}\text{ }clip = world" title="Matrix^{-1}\text{ }clip = world" class="math display" /> <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATQAAAAVBAMAAAA6KA+LAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAid0yzZlEdu9UECKrZrsQi3lRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD+klEQVRIDcVWTWgcZRh+9iczO7uZ3U1BcTFKUMjB0xwUitbuioJ4KC14arUwLVQiKh08GAqlLPRUSmFkq7UpkQ9RaE6ZtNWL6KYHKUiFsf4EWyu5eKgQLAQvycXn/Wa7M7M7Sbco9IV8877v8zzv8818s0OA+0f50/tzHhLDOvuQjEewvRJxyt4I3FEoI8/Zsc5xxX/crYf2tjYeMXbsG2YW/g6Gm3FnQPJFjGRlmr17k5B5isvZnl9ZRWRjKrrqtbe1D6JW0UcK1d2ZmD4MYkBihTE7IyMbMNpczFeB8lGXGaPqRdeKq6/mxMSEh97WWhFUU+ihUa3X43E+DGJQ0orZGRnZ3NUyl6++A6ymlIyaE11Ta7S1e/d6OIX1irWsZr83KGn0kaxEs6vyZMMngeff73F2ZnEv6WY1iLBHsijyZmwdg5J3t6YS0eyauIU3AP9PJrOd4NArTxiPLv2KwkfA22+8d0CPMB67JdcS/6zfLmCPoNbsN79oUC+z59uEPPYvBiIVGmuNZUlkVBxUjPkXA5z70dHme3icxz4RPDwKC/wpVMPxFtZgXapPYqHkFPzd4XSsB/IsfsBVbAq6sBiOySPXQeUyruEt9osuF01jrcEsSU2QN68zrjJZyDsiHPMqbW3OE1jDdQJlv6suVzaAPzBep+/cjHoHbhcmmqpvLqP4xpktzBltQd0Z5JalK0GlZ0/hcbcJMxApaVILlikpKYHuBRXUBD8D62JOA3uVd8qHr2qOz0E4g5LLttJHLUviVydTnuWPhHuVHRE9jvF90pWg0snfWXExCVtAoemaWKYkr0TWj0nenM0p5XUxp0EpxEmiNkofKx5IZRNN7fuaSATRiRRRfAZ0FT/O9CV6ByW/B2jlYsBqWrZ2UtN0zVamJP2uUXYNNqfYd8WTBt2gcJdaG8WGbJPFCaMYLpR5trCmXIOH7DHtB+c1ef61rx2i2MBh/I4DPOVIuSi8DbwgUqHpmq1Mid5a/12jbBqX6V/0xJwGfDFWXeBF8O3v8p7b5ZfsvONZLQ7M1cMb9jO2PIl+FBXyAW4t2oIWNvCynVftqsCREh16hAIKLe+gU/meB5sl+bY/VCeny6cofJq3KuY0KOHzOic9FZpObu/rwJHzz920jgWmPKpCQy1dONRJTTB9VBrzKsdPS0OZB88FuFJY5QFGSoHw4byWSi5/hTPIltxODcaR27tWFJbmQ4g5DYz9nYMqzdm2qiwnYP2xXrHrVqI3nKbQhOSvYep/6yQH6o91IxfObTsytbVYkrrJbQeMCn6ZIPLtBo9gv5voDad+shVLxlSy/3/kRuxk7K2PMjEW8L+cWPLTKNoH4wQPRt+SPdqcfwH+Q0ILzYzNWgAAAABJRU5ErkJggg==" alt="Matrix^{-1}\text{ }(clip_w\text{ }device, clip_w) = world" title="Matrix^{-1}\text{ }(clip_w\text{ }device, clip_w) = world" class="math display" /> <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARYAAAAVBAMAAABxgNxmAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAid0yzZlEdu9UECKrZrsQi3lRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEEklEQVRIDb1VTWgcZRh+9iezOzM72U2l4mIii2IO9TIeBH+zKwqiIAY8+VOYipUUlQ7+UEJFFnIqUljd2pqUyBwUGzxk0kgPKu72IAVpYVq1Ja2RXDyoBCNRDw0Fn/ebTCaTTbI9tH1h3t/n/Znve3cW6E7Gp90xtwqhH7lVna6jz1fbYr7YNqqCbndIiNixTJn919kaH8+SurcT1aYr85ffGYg9n8fqZtqOYXqHVshyh8iOiEkyPCWgVUKpeDwLngZeWRehmnPEHhEWUiIV0J4A9CAKbiqzDbq1OlnuKY6w36FG6nVDaTpK5vr6+lysm+UqcCpERDyrlPciE1hNXXWYb8ux1+LwJlrRozPXJjv1PQevikkq2qFM8HiWDe8sqEkFXUwkJAyZpZzwbDTUSffK2QV3AQ+/tRp/cCNO7JNrztTwmhopfypFLnsLklne2CIWuneKKPpkwQWg8RuVA01/z5MD2u0zF5H5GNj30psvCgjaHVeUnBz3swEeGsaxg/PxTHXGDozXoc+5zDrhS6o+d1xslQWZJR+qq5yQnsYJH8fO26rbs7yh0U8kGOyHDu5vb1CoYRH6yVI/pvJ2pjEUDK4vUQgKpaJvNMaMiWvYvRapqMw2zuA1ZmUdMpzDabFDjMxSFPXls6TTVKbStiB7XLOuuvFQF3GWAaPR8mZN7uSvKJSwgokR73U4LeRQ9QIpEdE70L0RaOaSxpXvj7xmTWW6VgV3OlXkfEmtYULsEKPOxYvwIgkhyP8JWJZuLGctcHaep1e0G8zEYeQduj11e8LW/TZo4RofjsCV4cpz30PK1FSmnf79ksOwBexEke+gbAWRWdKeUiPWzxe32NBYlm6pNvIBxhi0kD/qFdowV1AVt3xCoCJKEUORHB14s7yC3obcaUhGJcyc9mkPyixjaHmAshWkc1+IOwOLDa0l6cYlbPmZJYItZMsyF433tWwwZUhPveJobO6qYiETsLcyi480FD2tYrV7vqxJpB5mTot+FY9IapU3r2zxxbu7ti/EDWKWBbOudCt+Y/NyFxzgMXBlW3yruvG4lbZdvcb8VCm4YO2y6I3pPlhfLwXos7hIWTvYlceCBJ+JMtFkj0BS0z6upG00zR8E8B+f70SJ6QPjEJH34BdIt2leDT4rMfXuIGennnse2Dv+wGV91M/JYWTK3szxPc04m9rM+GUMOLh/Au/OHYRZG2I50miYaZYnPXzIDx9TRZcnc5gH1P/PbcB8ohL2zj96ycPMZADplroI7YXmbi+JuU5rkTjLPY+G4L/dJkmPYn9Eyg2X8pFNNQZ0Tyr3Ki5aJ0WzmO3O2I3xcOn4D1j++agqZw5vXVUdHMM9HtlNoVf/TpTdl7ASRjTLjwnvTTTM7rX97hAi/gfgvx3nHJl3dgAAAABJRU5ErkJggg==" alt="Matrix^{-1}\text{ }clip_w\text{ }(device, 1) = world" title="Matrix^{-1}\text{ }clip_w\text{ }(device, 1) = world" class="math display" /></p>
<p>And note that since matrices are linear transforms, we can pull that <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAARBAMAAABDbMOIAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA2ElEQVQYGWNgAIGoDWAKhWAXYOBZgCLCwMDfwMB8AE3sFBofxI1GE2NUFGYoYuCUZmBMM9KGyjkxuDJ8ZmjkndDYr8CtABZkK2CQ4LnAcMCe4cBZBlYHsBg/UArEBBqZwsACcad9AwMDO1D8JgPDQwZeAQYQmM/AwMFvPIFxwQGGHwynGFQYdpgzcBkwKPczMbAGKHD+YKhk4mq4wMfAHCjUwKrDwBnYwLZJzIDBnPMBE1g/hOBTANJqTAGMSGL8BkBOIKuCBJIY0DYGBlOhjQcQYjz1AVAOAFZNJVMdaIbIAAAAAElFTkSuQmCC" alt="clip_w" title="clip_w" class="math inline" /> in front of the matrix multiply:</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARYAAAAVBAMAAABxgNxmAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEEUlEQVRIDa1UT2gcZRT/7Ux2d2YzyW4SjBuLMLY1ahtkUEtRglmkrR53NWmx9bCFGulBiYWAxUMnlyrYsluqJ8EugodCwG3x4MHDSFuQ1sC2Xgx42EYQbwZycIMe/L1v/uxmM9uVkA/2m/fe7/d+7+37vhlgx2upuePUXU8cWdh1yR0L6kEvF/srlPtTIsbJemSGRvLbKs0LP4T+9mfYS4GQ+ZezndCOfNY24yxV/qsNH0rnYNW6WO/ngMTHQfDT4Hm3gxT0kvIktiKbv7qUrPPUsX2ox87ygNXw0awL3esivlcGLv0bBP8IntP+8925ueMIekmr0JmAwMdWJf3sJmMLbTjGYnkgVfCRzr/rR6DfrgMTrcATve4V9DKq4mvdaNuX3FLbjbFU+WHbR05tJ2jJJsyLNR8wg/ltoek++LsKBoe9hRA40svtOCCKqfJZh2f51BjOwdyDxPwLByMYmlZDYpizSZ2+ap1YtO/cetPDlTqsPdMHXUW784DZgLQ5P9KgTpkilx1uSpO+wID0MqSscCNlMHfZwfjTVeudQ1MszypPEn0NR7GBpaHqUsUetEM6NGsduaEcsIbXwfmNfZMsGLlVXDHXMl7EolED4YECjuFniqQ9bkqTvk+TXrJifneE6yiNpUxVmINlvZF4pTjL8qxyhA0tIM8r7M3AW0GyIDlqLektvTrjQmuy16yTuPSr5Vj6OspmSws58pRb8zwGyhzjW941pBwqiab4Pk/NxfVtfyeFJOcZziy/4t5ieVY5xo5tqBZ4ZmcwUI9S8thM4ACna+M3vrFGUiDZwvseME328gBD1czDSQ+zYJ+nlKbyFUd6ybjKDLdZtq8xzdh0WZcTYJVVgH8daRtiPoScSbBs3P9J5jbjmOusAfUN4Ph9I2QBRg36Bq6h4jC2LL2sKk3lK5qaSztBrGVOQWOato4PVXlVhSowsi9WEzUPLdzFfnx/WOXZWMyxc+KppnfOyFVchp+weJhuShHCrQE2+4FVEb+Fq6CSaCpfcaJeovtC3jJeZlq6bPCrwfKqCjIO9lU0JIu22cJ5LeM2hkXBtHll2TnfgE+K9vUUHpfoHN+uA+4+MaP1EV8lY1HLVDHBGrYoiab4+hvCku/lqxFdGb8Y98m8zn+e4BGzvKoCvTTqJqdgltzUzXEHh82muponv8ZZnPinCuvGxE13fAzzIvJFXi9Nl3hQHes0cG/ky2dFB4/xw0clseVncq7G7N9vA3s7Emje2/v5pItDozZSZd6XKb9KB4cvLjCpFRMdsf9hvvQITiT15yNIcVBWbl8paefjwN6xYbc3FvaiF3pzYhHeOHBuN7xYtGdQr/eEkAugQbc3Jw6xLhTjwv1jP/amhL0815uyu4jeX87pTyHjP7V683COAJSlAAAAAElFTkSuQmCC" alt="clip_w\text{ }Matrix^{-1}\text{ }(device, 1) = world" title="clip_w\text{ }Matrix^{-1}\text{ }(device, 1) = world" class="math display" /></p>
<p>So it seems we run into a wall. <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAARBAMAAABDbMOIAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA2ElEQVQYGWNgAIGoDWAKhWAXYOBZgCLCwMDfwMB8AE3sFBofxI1GE2NUFGYoYuCUZmBMM9KGyjkxuDJ8ZmjkndDYr8CtABZkK2CQ4LnAcMCe4cBZBlYHsBg/UArEBBqZwsACcad9AwMDO1D8JgPDQwZeAQYQmM/AwMFvPIFxwQGGHwynGFQYdpgzcBkwKPczMbAGKHD+YKhk4mq4wMfAHCjUwKrDwBnYwLZJzIDBnPMBE1g/hOBTANJqTAGMSGL8BkBOIKuCBJIY0DYGBlOhjQcQYjz1AVAOAFZNJVMdaIbIAAAAAElFTkSuQmCC" alt="clip_w" title="clip_w" class="math inline" /> is lost, right? Don’t give up hope: we haven’t used the third of our initial givens yet.</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAQBAMAAABgsKUGAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMlSZEO8i3c1EdomrZrtpo7NTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABP0lEQVQoFX2QO0vDYBSG36ZJmwup+QHiBesiFKQ4KgRBcIwObkI6WcgQxclN3YWA1Dn6C2qdhArO2iGj1lbyB4QEStDN81UIX5vYM72Xh8PhAFOjnVKwkEyl/9lLKhQr2yoX2QwjytTnTFG6jTMZlGPKKkG2QA6srRM3Z+fDhRUUl3ZsrH0YyqPzDjmAereaw7LN22VDMmSv6Jcs4ajdZUu/0EvhzR7N69gS7LlwodpvQFxtmTdoQQ/xksKcYDd38QkdhxBj82FspQB7HJNKBp/RHr2UQI/AXnwF1y5EKcEJBo8Ib1At+yJ7cdJYhBp6A2w0GTh5Mw7EfQQ4wQDCOSBGgYTd9rBsWhUGc/ND+no43zfh1OhlPtknT6kvb5nNQqhzIG3pft9PBJzp622Bs7NlRwuqswmudWp1j7N/8hfxyVfi32VS/AAAAABJRU5ErkJggg==" alt="world_w = 1" title="world_w = 1" class="math display" /></p>
<p>So let’s look at just the <img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAIBAMAAADQCGj8AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMlSZEO8i3c1EdomrZrtpo7NTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAQklEQVQIHWNgVGZgVnBNYHBiF2AV4JjAMCGfIZ+BK4GBYQ/DPQZeBgaGSoZTYPoLkJUI5IexBDFcANKT78rccmAAAGC1DLIvAY6OAAAAAElFTkSuQmCC" alt="w" title="w" class="math inline" /> component of that last equation there:</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAAAYBAMAAABAc4jsAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFEklEQVRYCc1XXWgcVRT+ZnZ3djeZzU42mB+tMqY21rbIoA2lpZhF2vrgyyYmirXKFEpEEYmFin3qFMEWtWS1CoLYBEVoNEja+lDfptaCWEO3+mLBhzSiCD4YzIMp+uB35mdns9nNbtM+eGDmnnu+75x77j137t0Fbk1S99ya/+307mkimNLVBCmiJCL1tmt6oZmQ2wLSG43JNpCeaUxrgrG3VpgkHffe4Cv5j1s/RphvnpT0n1Z9IvAWwX2rEQIs8TmVU4urMJMG9Mlq/EkatKt8dYWzOe5TllGDfDVXsFl5+fJdqPitfhhQTOCY3139/QphvbSSI0E8yTqIuYFebsRBexVIXQmh33wsoGojIyM2gnylGMABnyDvnZFKLfaCFGoMiBvL7LU7SzRr+RWYH0TMVYvhMdU5Njsf57JMOJ4BkDGrJcg359nnq9GoL76DDJaPTPU0r35tZg04TOCZGljcptF8DvjgxQBN1ygRdvjgL16zyp6Tob7hQi8EwVZpEjMEs1YNhgRR7u3AQaTvgjL60OYKTsZlx9wEGH9Q0faf1J86ZF66OOSSigvnvj7vcfVn13utTGW0vcRoNvET1jscM9duIdfpwX5tMtTDJQrM0tCh1ThhoXNDUd/XvwVJk8PdXUEoq+L8KHZjEUczxaPjZqtZhvwJmlegQL65eTwGlqjj00Se1LRxypyOqNQmQTiexx58Tzz5rXENcTNeiNu66/NkqCyfj/0u31/uouymcrSlSBe31Y6VlB2FYRl5HrtW8rzJamPo5rfoDsCdRSJfZmHA4admDDjbY9z+3My7GUd5+yfdIlXDhGNGVJZ5DHgQcVudxBPuBLSdrPvzUJxNSAR1lXwzDMkPuFoYkCGt+5lP96xzkacMh9tTzZI+g2RNeGlyCx9AnFUMZYKK4mSLBnNAxsTPjJPytpbs9oqTQBzSzPcHZIot1/tcDEMFiX/R/kXuJb5FJN8WB/hVOlUyzLmq9E/dcCT2sAx3rYrjdRlElpEbRvDryBgRS/JVkVnnsMoYsNILjAMe1B4VckRWSGoSsUVMYNyicVr8ilKWVPQBSr6yf2vlO83VVOmvLnhxD/rDVYQPVQZhWqnsw0Vl0sUSz7X7cD44oWQiKpKDMlmytDn3YMoYp5FUncnYqJQSOKGX9XGxLeEk7tTZx3E+gYT5RvuhvH/pMI3t5CftlBy9i9u94cJUIp4UqcXC+nHWr2Cml3BYbXFKbf4IslTvIj7GycrKHCuYUxq6iJG6ST2t0lohrwGl1CG1pYgeDm9iRMUnUK0pKMWtjvD+5fMIn+h7E6svP6au0mWKi6WMcfkWTBmuN0ol5EmQ2GDOSWxBetDRznZa2JaeU32Y51niM1MrJo58xdvxTM9Zp7MDo8RI7e+41FMO4in7gcvtH26UaLiDl8f73ehv3+g9H5nMYfjvp4FeUrlEK+Ry73t9DvpzPMdsgkOuN1yUSuDgByl7ezdKn1pQfEubXUaaULauwjFC7Pfm7ouAHqUS+i9vs1LhwYTZ7ZubuTmjAG1OpFdrYb6xPDf/XDVatx+lUpsiBwKLcsYN4FLQNtXEZurSgnoBrY73e0fNt74+VpcdARWpRMZI048Uoo5oQ8u7DXoX6uLlfB8g5U3e8aczmKvLXjsQnBNNBog15lmk7JO78BTMxuybZuj2Tbs0dJD/Q6q9AUZD5hoIVUfWGiKscEnQkjCGFGcF8v81xAY3r1tzdv8BYiQkb0Rmc+gAAAAASUVORK5CYII=" alt="clip_w\text{ }\left(Matrix^{-1}\text{ }(device, 1)\right)_w = world_w = 1" title="clip_w\text{ }\left(Matrix^{-1}\text{ }(device, 1)\right)_w = world_w = 1" class="math display" /></p>
<p>Divide:</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP0AAAAqBAMAAACKIEBYAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVGYiq4l2zRAy3ZlE77uEzb89AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAERElEQVRYCe2WT4gbVRzHvzOTmUyyk8zsFtpdW+VpVepWZNCuxbqYINWLB5PSPVj/MMVSUYpEoUpB6FtEFD10FERBulnwsorItl7W22gtlkrpai/tLfZU8BK6h64o6O+9yZ9mkk0mJePF/iBvfn8+7/ebee/N/AKMVKxjI003bDLt1T+HnTJi/nb9ES/okOlur/+QCzZi/P++/n/f0noeWL6laV2TzP03nutyxnCkHViLMbikEJtDC5JKHiPv+RhMksjzSSYfkFu5exPeRGYrlMMP7xzAJhF+Ek9hDfM5f/4EG2ONCmN7hZSSqBfJaVQwaa0iKCC4AL0YiSZv2gyyLB2BQ0h1fwfsf5KUOgocSNM9XAF+R85J/oEjFaqAaT/iK4sB1nEe92JlNxH/3f5nXWw/oUIvscw6jqlZvpqP3GGyplae4PqDyJS5cXqzi92ZmhopaHoRRy/TvCv0xoANIr0eOfKMnPerJSUSS5F9QPT19F9BJNQ2lS2hLmAsrLUD3ZpJh/yjbjdsl5xlnU1GYkfINn6lYUvj7TB5SHS0LHFqSAQMep9bEvm0/+wDE4DCWkBLoZMIzEycClqeUKnQxXiLjunFRiTvhYGOltWoL2AYxRAQ42xbJe3RKtVPkyK5jpB1vNRhNw2FkTb7DN1zlZNGYlOOLgnrK0wE5E4KpVvEXN2hde4ObeDJuxRgLwGfv9YgTnaSxtzcnIewvoTDneyEmpaobxWBn5qOgdecINg04PxByuEp9+zb+6wXZuiV2Qr88N2PK2GGsL6AjYN30h5vxsfL5iUaSB93hS1Frt0qILOGrgFjVsTZRSigM5hnqQquQtlT2i9aVsZZYN+E8/fIi4CvYi9SnnXOuYJ3TBpSLFUiO5CArF+nPZRWnEE8mOkU+GPaOvAQUiXqlpMX+BnRsgxUOZNJrBe3iyvBag1PYxr6bKaOly2tjlegcLJdycn6l+n5uTRjDJ8Ro3Dbd9RF4DfkAnq7OHUrQAyHhNIWgnOMesm3E0dEV2PQl3GdwsKWIusvAVke2oPHDwlRkdvGU0Voa6jKbvmGmEctC1IRRigEF9xM3RQfoGxA9XO+WDZpS2L4/RcnRUW6LB6MlvR1K83mTcoJalkWJfdk3sZAcBVG7RztMGyecXGHRXPwgbClDF8/zYFPQMeuQDu4ah5Vs76nVCgZtaxpdUklb1sIzuH9EvsKim9z6iRzKr6E6gp7FyfODgCtBjxBejwxHOhfM8PXj38P/DL+xQ7loGt4NJda1syms1MdWQi2Tk2d5jPjO6CUGfDpJIQufifJfO/Zoz5UUu6BWhx7VzzGINGKg4ib4n1hpwHmOXANbCmH2k1TN1SvbRjpEegHN+vvoi2gs1xZoPMZQx6PwbSQPrDShFbo/xWH6t2H5h01Iz2vViyqMbUP3Kyv+sADogvtU3jPglGnG3X0swfDGk0nSivv3Ab8C7zJM9+cG2BxAAAAAElFTkSuQmCC" alt="clip_w = \frac 1 {\left(Matrix^{-1}\text{ }(device, 1)\right)_w}" title="clip_w = \frac 1 {\left(Matrix^{-1}\text{ }(device, 1)\right)_w}" class="math display" /></p>
<p>And insert into the equation that previously gave us trouble:</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,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" alt="\frac{Matrix^{-1}\text{ }(device, 1)}{\left(Matrix^{-1}\text{ }(device, 1)\right)_w} = world" title="\frac{Matrix^{-1}\text{ }(device, 1)}{\left(Matrix^{-1}\text{ }(device, 1)\right)_w} = world" class="math display" /></p>
<p>Or in other words:</p>
<p><img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYUAAAAbBAMAAABhFo78AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAVDJEic1272a7qyIQ3ZkhIDDZAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFjklEQVRYCcVXXWwUVRT+5qfbaWe2O60CxRYY44MhRDpoDQT82UrRpoqpioZEI9OqqGB0xRcTfBh+bCo/cTXGkGjiJiAhxId5KAliSIcQwAexDfjAg4lLNKaJJK41Pmg3xnPuzHbZsrPd6i7eZO6955zvfOeee+7c2QWqasbiqmD/G6itisjSgipARYhanN6UmZKsJsyJEHR+brADyNm5YbVENBCZ+oNF/ZYfo3kLOWQIIn/mRQOBb8m4vhKgrG1jltTLp8vahPLenBiULWUgD7PuZROQng+t3wSjMhHKPIQ5xGwWVnMXtBIQoDxJPC5wrmCvemygFUBJReP1XGAbKwMRbi85wNnfQ+vHwajbYoz19vY6hRy4aMA20YsuBIUKfWiKZgNAs1mEVDdL+ISLZaLBFXLQ0uSmr80CbfmQgNcxu4V1aBf6Q7OtRZl9e6gWmaKqutn9DGtyo8EVcmh2yE1T05DPTwQEcqoM0elA94kYKpxazmEtbUquDEdF1eNsTXjRmAJlmbPUaJObpk1AaspSMQdXKBs2ud3r+mx5KbDqlzXXBKvyyH4xcnpbW1OQdjlkv+AxSNrVwbKwg3NopKdcLQNE2N+exVVjJ7Bwr6WsH92DzRx8UQmEhJEX6QY5eZsNpW+X2JbukWXkM2wHWm1ELE+krik5mI0mcAifc0E7vlMzZxot2VzuXi6hneB6N2dwFPeQvcGmDsdwhOUAx2tP0HOlxG1GaDnOLQkY5iXswFNocfSUdDrZD6rtIRyfAQaTmBlLY9yhk7EPGuegZfA+YklMBtpe3MXAMZ+6M3pet2hGL8cRKqh09h3Fs8cQQ5fvknmm6QPAe2h2qGyP2l2ICdAAOlkOQKIOPvDMjE/5iaLn6HBsx7tUss7V/jq6kSj40VlgNSPnkLCNvDEVHM9xC2MY96kT2mnELXLpYrdOTEk4SKfAxVt0cxpqlpR8Qq+7gUiCTDm8jUYr/sGwjX5oDEq4gJAZIM5Q3Ac+ElKFTs3Qml1iM6Z8iqRmOPiOGxxOUg4e8ko+yOFBXj6dpoTNWum31iUmuYgcXLx5HxdyzKO8+wFxWTPhE6WkxgT0aXIZ90h/mXPYIQopZAEVdaDZnDnEbbpNXGKjM0JRGtwgeGk8/ciKMIdcmAOtsZiDOF7kIc6Si00mbQmtLpa2NxsmVQvShK3oeTglrClQkq8q46zMYwWDaBMMIQtgIYeIszTzPiDhx23dIrYGx6BLPfGVJYKXRKPS6DmLd9yYDnKgzRrjJXf5rKXlwScP3kLZpVeZtoRulHNJ91IMC8igJt2D2vca73ixPQekjE0ancI2ysFlUNzDfpb1LxjG38kv6Yl4pxkStEbvgkl1vERvqzRAy9CC4GQ85RPVKZ9h45aUdxMeZbANMVowfwTf8NUkfqYTRtqfIHmE5Lt14xUMYcPfFpSrbZP+wg5sJbjc4492dLcxVbENAg+0rjyg97T7uLVdgHjOj0x1NPr/eIguRMJzPa5ryevmwVSZ3H3sNWC03UXMoR3bEwQn452evJM6hmmT616/+9fDK/+ytcHWPy3SDLcu+xDDe0050L6ym5FNDlmqbqcqIKWC7dMbvnGzqlkA1mqUMvNhavKj0YUcdGKU0iW4lhKp9kJqPpR6NhpthqYWX/zmU5aucvdhyHh6DXCSTv21ws/3aIZ/bembl+eqaHQhh90EuQh83fxCX9x/VvavAY9pcT/VFO36Xy3zo9bnDucRZD3gN3j0i50+vyRncUJO0y1Ur6Y4tWeWs8R5Ef5eOYMDBhQbw1qy8L7UPhz9b6g9qUqUg4slr0d11M520Cvdo7qdtY9Tb8Y13bdg5RLrjkVZnOfvwFW73hHrxB8XvNvrxH4zaPX0sAiTvRnB6hVjxGFm3awXf8D7D/VceYnS/SS/AAAAAElFTkSuQmCC" alt="\left(Matrix^{-1}\text{ }(device, 1)\right)_{xyz/w} = world\text{ ... and done.}" title="\left(Matrix^{-1}\text{ }(device, 1)\right)_{xyz/w} = world\text{ ... and done.}" class="math display" /></p>
<p>You’ve probably seen that equation in shader code before. Well, now you know why.</p>
</body>
</html>
      </section>
      <footer>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>